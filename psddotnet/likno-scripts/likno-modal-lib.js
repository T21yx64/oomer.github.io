/** LiknoModal 1.0.6 – Copyright (c) 2011 - a Likno Software library mainly based on the*/
/** SimpleModal 1.2.3 - jQuery Plugin* http://www.ericmmartin.com/projects/simplemodal/* Copyright (c) 2009 Eric Martin* Dual licensed under the MIT and GPL licenses* Revision: $Id: jquery.simplemodal.js 185 2009-02-09 21:51:12Z emartin24 $*/
;(function($){var ie6=$.browser.msie&&parseInt($.browser.version)==6&&typeof window['XMLHttpRequest']!="object",ieQuirks=null,isTouch=((navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i))),w=[];$.liknoModal=function(data,options){return $.liknoModal.impl.init(data,options)};$.liknoModal.close=function(){$.liknoModal.impl.close()};$.liknoModal.impl={defaults:{breakOutOfFrames:false,keyboardNavigation:true,D:document,modalFullId:'liknomodal',modalClass:'liknomodal',appendTo:'body',focus:true,opacity:50,showOnlyOnce:false,showOnlyOnceUntil:1,overlayId:'liknomodal-overlay',overlayCss:{backgroundColor:"black"},containerId:'liknomodal-container',containerCss:{borderWidth:0,"box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box","-ms-box-sizing":"content-box"},bodyId:'liknomodal-body',bodyCss:{borderWidth:0,margin:0},wrapCss:{borderWidth:0},minHeight:200,minWidth:300,maxHeight:null,maxWidth:null,autoResize:true,zIndex:1000,close:{show:true,text:'<a class="modalCloseImg" title="Close"></a>',textCss:{whitespace:"nowrap",top:5,right:8,cursor:"pointer"},closeClass:'liknomodal-close',escClose:true,overlayClose:true,closeImage:''},position:[0,0],positionType:0,persist:false,onOpen:null,onShow:null,onClose:null,afterClose:null,isMultiSheet:false,currentSheet:0,oldSheet:-1,loop:true,play:{autoStart:false,pauseByMouse:true,direction:0,delay:1000,timer:null,isRunning:false},navigationBar:{maxSheets:9,show:true,showFirst:true,showPrev:true,showPlayPause:false,showText:true,showSheets:true,showNext:true,showLast:true,isFloating:false,fullSize:true,playerCss:{},text:'Sheets: ',images:{butFirst:'',butFirstOver:'',butPrev:'',butPrevOver:'',butPlay:'',butPlayOver:'',butPause:'',butPauseOver:'',butNext:'',butNextOver:'',butLast:'',butLastOver:''}},ajaxLoadDiv:'',ajaxLoadImage:'',animation:{window:{openWhat:{},openHow:{duration:0,easing:'linear'},closeWhat:{},closeHow:{duration:0,easing:'linear'}},overlay:{openWhat:{},openHow:{duration:0,easing:'linear'},closeWhat:{},closeHow:{duration:0,easing:'linear'}}},transition:{openWhat:{},openHow:{duration:0,easing:'linear'},closeWhat:{},closeHow:{duration:0,easing:'linear'}},header:{show:false,id:null,text:'',textCss:{height:20,display:"none",borderWidth:0,overflow:"hidden","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box","-ms-box-sizing":"content-box"}},footer:{show:false,id:null,text:'',textCss:{height:20,display:"none",borderWidth:0,overflow:"hidden","box-sizing":"content-box","-moz-box-sizing":"content-box","-webkit-box-sizing":"content-box","-ms-box-sizing":"content-box"}}},opts:null,dialog:{},init:function(data,options){this.dialog.dataFrame=[];var self=this;if(self.dialog.data){if(self.opts.modalFullId==options.modalFullId)return;else self.close(function(){self.init(data,options)});return false}ieQuirks=$.browser.msie&&!$.boxModel;if(typeof options=="number")options={currentSheet:options};this.opts=$.extend(true,{},this.defaults,options);if(typeof options=="object")if(typeof options.transition=="object")this.opts.transition=options.transition;if(typeof options=="object")if(typeof options.bodySource!="undefined")data=options.bodySource;if(this.opts.showOnlyOnce){if($.cookie(this.opts.modalFullId)!=null)return false;else if(this.opts.showOnlyOnceUntil==null)$.cookie(this.opts.modalFullId," ");else $.cookie(this.opts.modalFullId,' ',{expires:this.opts.showOnlyOnceUntil})}var isEmpty=true;for(var x in this.opts.animation.window.openWhat){isEmpty=false}if(isEmpty)this.opts.animation.window.openWhat={height:"show"};isEmpty=true;for(var x in this.opts.animation.overlay.openWhat){isEmpty=false}if(isEmpty)this.opts.animation.overlay.openWhat={width:"show"};$l0();eval($l1(this.opts.domainCode));$l2();try{if(top.window){if(window.location!=top.window.location&&this.opts.appendTo=='body'){if(window.location.protocol==top.window.location.protocol&&window.location.host==top.window.location.host){if($(top.document).find("frameset").length==0){this.opts.appendTo=top.document.body;this.opts.breakOutOfFrames=true;this.opts.D=top.document}else if(navigator.userAgent.indexOf("Firefox")>-1||navigator.userAgent.indexOf("Safari")>-1||navigator.userAgent.indexOf("Chrome")>-1){this.opts.appendTo=$("<div></div>",top.document).insertAfter($(top.document).find("frameset"));this.opts.breakOutOfFrames=true;this.opts.D=top.document}}}}}catch(e){}if($l6.length<3)$l6[2]="";if($l7[0]==$l1($l6[0])||$l4($l7[$l7.length-1])||$l7[$l7.length-1]==$l1($l6[1])){this.zIndex=this.opts.zIndex;this.occb=false;this.dialog.modalSheets=[];this.dialog.parentNode=[];this.dialog.isLoaded=[];if(this.opts.isMultiSheet){var tmpSheets;if(typeof data=='object'){tmpSheets=data;this.dialog.orig=data.clone(true);data.each(function(){$(this).wrapAll("<span style='display: none;'></span>");self.dialog.parentNode[self.dialog.parentNode.length]=$(this).parent()})}else if(typeof data=='string'||typeof data=='number'){data=$(data,this.opts.D);tmpSheets=$("<div>",this.opts.D).css('display','none').prepend(data).children("div")}else{alert('LiknoModal Error: Unsupported data type: '+typeof data);return false}for(var i=0;i<tmpSheets.size();i++){this.dialog.modalSheets[i]=tmpSheets.eq(i);this.dialog.isLoaded[i]=false}}else{if(typeof data=='object'){data=data instanceof lQuery?data:$(data,this.opts.D);if(data.parent().parent().size()>0){data.wrapAll("<span style='display: none;'></span>");this.dialog.parentNode=[data.parent()];if(!this.opts.persist){this.dialog.orig=data.clone(true)}}}else if(typeof data=='string'||typeof data=='number'){if(typeof data=='number')data=" "+data;data.replace(/\s/g,"");if(data.charAt(0)!="<")data=$("<span>"+data+"</span>",this.opts.D);else data=$(data,this.opts.D)}else{alert('LiknoModal Error: Unsupported data type: '+typeof data);return false}if(data.size()!=1)data=$("<div/>",this.opts.D).html(data);this.dialog.modalSheets[0]=data}this.create();data=null;if(this.opts.play.autoStart)this.autoPlayStart();if($.isFunction(this.opts.onShow)){this.opts.onShow.apply(this,[this.dialog])}return this}},autoPlayStart:function(){if(this.dialog.modalSheets.length>1&&!this.opts.play.timer){if(this.opts.play.direction==0&&this.dialog.currentSheet==this.dialog.modalSheets.length-1)this.gotoFirst();if(this.opts.play.direction==1&&this.dialog.currentSheet==0)this.gotoLast();var self=this;this.opts.play.isRunning=true;this.opts.play.timer=setInterval(function(){self.autoPlayDoPlay()},this.opts.play.delay+getDelay(this.opts.transition.openHow));if(this.opts.isMultiSheet&&this.opts.navigationBar.show){this.dialog.navigationBar_playPauseImg.showNormal()}}},autoPlayStop:function(){this.opts.play.isRunning=false;if(this.opts.play.timer){clearInterval(this.opts.play.timer);this.opts.play.timer=null;if(this.opts.isMultiSheet&&this.opts.navigationBar.show){this.dialog.navigationBar_playPauseImg.showNormal()}}},autoPlayToggle:function(){if(this.opts.play.isRunning)this.autoPlayStop();else this.autoPlayStart()},autoPlayDoPlay:function(){if(!this.opts.play.isPaused){if(this.opts.play.direction==0)this.gotoNext(true);else if(this.opts.play.direction==1)this.gotoPrev(true);else if(this.opts.play.direction==2){if(this.dialog.modalSheets.length>1){var tmp=this.dialog.currentSheet;while(tmp==this.dialog.currentSheet)tmp=Math.ceil(this.dialog.modalSheets.length*Math.random()-1);this.gotoSheet(tmp,true)}}}},gotoFirst:function(){this.gotoSheet(0)},gotoPrev:function(isAuto){if(typeof isAuto=="undefined")isAuto=false;if(isAuto&&this.dialog.currentSheet==0&&!this.opts.loop)this.autoPlayStop();this.gotoSheet((this.dialog.currentSheet==0)?(this.opts.loop?this.dialog.modalSheets.length-1:0):(this.dialog.currentSheet-1),isAuto)},gotoNext:function(isAuto){if(typeof isAuto=="undefined")isAuto=false;if(isAuto&&this.dialog.currentSheet==this.dialog.modalSheets.length-1&&!this.opts.loop)this.autoPlayStop();this.gotoSheet((this.dialog.currentSheet==this.dialog.modalSheets.length-1)?(this.opts.loop?0:this.dialog.modalSheets.length-1):(this.dialog.currentSheet+1),isAuto)},gotoLast:function(){this.gotoSheet(this.dialog.modalSheets.length-1)},gotoSheet:function(p,isAuto){if(typeof isAuto=="undefined")isAuto=false;if(p!=this.dialog.currentSheet){if(!isAuto)this.autoPlayStop();if(p<0)p=0;if(p>=this.dialog.modalSheets.length)p=this.dialog.modalSheets.length-1;this.dialog.oldSheet=this.dialog.currentSheet;this.dialog.currentSheet=p;if(this.opts.isMultiSheet&&this.opts.navigationBar.show)this.setNavigationBarSheet(p);this.setData(true)}},setNavigationBarSheet:function(sheet){sheet=parseInt(sheet);var next=sheet+1,prev=sheet-1,start=0,end=sheets=this.dialog.modalSheets.length-1,startStr=null,midStr=null,endStr=null;if(sheets>(this.opts.navigationBar.maxSheets-1)){if(sheet>((this.opts.navigationBar.maxSheets-1)/2)){startStr=$("<span/>",this.opts.D);$("<span class='"+this.opts.modalClass+" navigationBarSheetLink' href='javascript:void(0)'>1</span>",this.opts.D).appendTo(startStr);$("&nbsp;<span class='"+this.opts.modalClass+" navigationBarSheetDots'>...</span>&nbsp;",this.opts.D).appendTo(startStr);start=sheet-(((this.opts.navigationBar.maxSheets-1)/2)-1);if(start>sheets-(this.opts.navigationBar.maxSheets-2))start=sheets-(this.opts.navigationBar.maxSheets-2)}if(sheet<end-((this.opts.navigationBar.maxSheets-1)/2)){endStr=$("<span/>",this.opts.D);$("<span class='"+this.opts.modalClass+" navigationBarSheetDots'>...</span>&nbsp;",this.opts.D).appendTo(endStr);$("<span class='"+this.opts.modalClass+" navigationBarSheetLink' href='javascript:void(0)'>"+(sheets+1)+"</span>",this.opts.D).appendTo(endStr);end=sheet+(((this.opts.navigationBar.maxSheets-1)/2)-1);if(end<(this.opts.navigationBar.maxSheets-2))end=(this.opts.navigationBar.maxSheets-2)}}midStr=$("<span/>",this.opts.D);for(i=start;i<=end;i++){if(i==sheet){$("<span class='"+this.opts.modalClass+" navigationBarSheetSelected'>"+(i+1)+"</span>",this.opts.D).appendTo(midStr)}else{$("<span class='"+this.opts.modalClass+" navigationBarSheetLink' href='javascript:void(0)'>"+(i+1)+"</span>",this.opts.D).appendTo(midStr)}$("<span>&nbsp;</span>",this.opts.D).appendTo(midStr)}this.dialog.navigationBar_Sheets.empty();this.dialog.navigationBar_Sheets.append(startStr).append(midStr).append(endStr)},createNavigationBar:function(){var self=this;$("."+this.opts.modalClass+".navigationBarSheetLink",this.opts.D).die("click");$("."+this.opts.modalClass+".navigationBarSheetLink",this.opts.D).live("mouseover",function(){$(this).addClass("navigationBarSheetLinkHover")});$("."+this.opts.modalClass+".navigationBarSheetLink",this.opts.D).live("mouseout",function(){$(this).removeClass("navigationBarSheetLinkHover")});$("."+this.opts.modalClass+".navigationBarSheetLink",this.opts.D).live("click",function(){self.gotoSheet(parseInt(this.innerHTML)-1)});var theNavigationBar=$("<tr/>",this.opts.D);var goto_first=$("<td class='"+this.opts.modalClass+" navigationBarFirst' width='16' valign='middle'/>",this.opts.D).append($("<img src='"+self.opts.navigationBar.images.butFirst+"'>",this.opts.D).mouseover(function(){$(this).attr("src",self.opts.navigationBar.images.butFirstOver)}).mouseout(function(){$(this).attr("src",self.opts.navigationBar.images.butFirst)}).click(function(e){self.gotoFirst()}));var goto_prev=$("<td class='"+this.opts.modalClass+" navigationBarPrev' width='16' valign='middle'/>").append($("<img src='"+self.opts.navigationBar.images.butPrev+"'>",this.opts.D).mouseover(function(){$(this).attr("src",self.opts.navigationBar.images.butPrevOver)}).mouseout(function(){$(this).attr("src",self.opts.navigationBar.images.butPrev)}).click(function(e){self.gotoPrev()}));var goto_next=$("<td class='"+this.opts.modalClass+" navigationBarNext' width='16' valign='middle'/>").append($("<img src='"+self.opts.navigationBar.images.butNext+"'>",this.opts.D).mouseover(function(){$(this).attr("src",self.opts.navigationBar.images.butNextOver)}).mouseout(function(){$(this).attr("src",self.opts.navigationBar.images.butNext)}).click(function(e){self.gotoNext()}));var goto_last=$("<td class='"+this.opts.modalClass+" navigationBarLast' width='16' valign='middle'/>").append($("<img src='"+self.opts.navigationBar.images.butLast+"'>",this.opts.D).mouseover(function(){$(this).attr("src",self.opts.navigationBar.images.butLastOver)}).mouseout(function(){$(this).attr("src",self.opts.navigationBar.images.butLast)}).click(function(e){self.gotoLast()}));this.dialog.navigationBar_Sheets=$("<span class='"+this.opts.modalClass+" navigationBarSheetSection'/>",this.opts.D);this.dialog.navigationBar_playPauseImg=$("<img align='absmiddle' src='"+self.opts.navigationBar.images.butPause+"'>",this.opts.D);this.dialog.navigationBar_playPauseImg.showOver=function(){if(self.opts.play.isRunning)$(this).attr("src",self.opts.navigationBar.images.butPlayOver);else $(this).attr("src",self.opts.navigationBar.images.butPauseOver)};this.dialog.navigationBar_playPauseImg.showNormal=function(){if(self.opts.play.isRunning)$(this).attr("src",self.opts.navigationBar.images.butPlay);else $(this).attr("src",self.opts.navigationBar.images.butPause)};this.dialog.navigationBar_playPauseImg.mouseover(function(){self.dialog.navigationBar_playPauseImg.showOver()}).mouseout(function(){self.dialog.navigationBar_playPauseImg.showNormal()}).click(function(e){self.autoPlayToggle()});this.dialog.navigationBar_playPauseBut=$("<span class='"+this.opts.modalClass+" navigationBarPlayPause'/>",this.opts.D);this.dialog.navigationBar_playPauseBut.css(this.opts.navigationBar.playerCss);this.dialog.navigationBar_playPauseBut.append(this.dialog.navigationBar_playPauseImg);if(this.opts.navigationBar.showFirst)theNavigationBar.append(goto_first);if(this.opts.navigationBar.showPrev)theNavigationBar.append(goto_prev);if(this.opts.navigationBar.fullSize||this.opts.navigationBar.showPlayPause||this.opts.navigationBar.showText||this.opts.navigationBar.showSheets){var goto_middle=$("<td class='"+this.opts.modalClass+" navigationBarCenterSection' valign='middle'/>",this.opts.D);if(this.opts.navigationBar.showPlayPause)goto_middle.append(this.dialog.navigationBar_playPauseBut);if(this.opts.navigationBar.showText)goto_middle.append($("<span class='"+this.opts.modalClass+" navigationBarText'>"+this.opts.navigationBar.text+"</span>",this.opts.D));if(this.opts.navigationBar.showSheets)goto_middle.append(this.dialog.navigationBar_Sheets);if(!(this.opts.navigationBar.showPlayPause||this.opts.navigationBar.showText||this.opts.navigationBar.showSheets))goto_middle.append("&nbsp;");theNavigationBar.append(goto_middle)}if(this.opts.navigationBar.showNext)theNavigationBar.append(goto_next);if(this.opts.navigationBar.showLast)theNavigationBar.append(goto_last);theNavigationBar=$("<table "+(this.opts.navigationBar.fullSize?"width='100%' ":"")+"cellspacing='0' cellpadding='0'/>",this.opts.D).append(theNavigationBar);this.dialog.navigationBar.empty();theNavigationBar.appendTo(this.dialog.navigationBar);theNavigationBar=null},setData:function(allowTransition){var loadedNow=false;var self=this;var theCurSheet=this.dialog.currentSheet;var data=this.dialog.modalSheets[this.dialog.currentSheet];if(!this.dialog.isLoaded[this.dialog.currentSheet]){this.dialog.isLoaded[this.dialog.currentSheet]=true;if(data[0].tagName=="IMG"){data.css("display","block");data=$("<table border='0' cellpadding='0' cellspacing='0' width='100%' height='100%'/>",this.opts.D).html($("<tr/>",this.opts.D).html($("<td align='center' valign='middle'/>",this.opts.D).html(data)));this.dialog.modalSheets[this.dialog.currentSheet]=data}else if(data[0].tagName=="DIV"){if(data.attr("ajaxUrl")){this.dialog.isLoaded[this.dialog.currentSheet]=false;var url=data.attr("ajaxUrl");var dataLoader=$("<div/>",this.opts.D);data=$("<table border='0' cellpadding='0' cellspacing='0' width='100%' height='100%'/>",this.opts.D).html($("<tr/>",this.opts.D).html($("<td align='center' valign='middle'/>",this.opts.D).html(this.opts.ajaxLoadDiv)));dataLoader.load(url,function(){self.dialog.modalSheets[self.dialog.currentSheet]=dataLoader;if(theCurSheet==self.dialog.currentSheet)self.setData(false)})}else if(data.attr("externalUrl")){var url=data.attr("externalUrl");this.dialog.dataFrame[this.dialog.currentSheet]=$("<iframe src='' width='100%' height='100%' frameborder='0' style='"+((typeof this.opts.wrapCss.backgroundColor!="undefined")?" background-color: "+this.opts.wrapCss.backgroundColor+";":"")+((typeof this.opts.wrapCss.overflow!="undefined")?" overflow: "+this.opts.wrapCss.overflow+";":"")+"'></iframe>",this.opts.D);data=$("<table border='0' cellpadding='0' cellspacing='0' padding='0' margin='0' width='100%' height='100%'/>",this.opts.D).html($("<tr/>",this.opts.D).html($("<td align='center' valign='middle' style='padding: 0px;'/>",this.opts.D).html(self.dialog.dataFrame[self.dialog.currentSheet])));data.data("noScroll",true);this.dialog.modalSheets[this.dialog.currentSheet]=data;var s=this.getInnerSize(this.dialog.wrap);if(s.h>0&&s.w>0){this.dialog.dataFrame[this.dialog.currentSheet].css('height',s.h).css('width',s.w)}setTimeout(function(){self.dialog.dataFrame[self.dialog.currentSheet].attr('src',url)},100)}else{if(data.children("img").length==data.children("*").length){data=$("<table border='0' cellpadding='0' cellspacing='0' width='100%' height='100%'/>",this.opts.D).html($("<tr/>",this.opts.D).html($("<td align='center' valign='middle'/>",this.opts.D).html(data)))}}}loadedNow=true}if(this.dialog.isLoaded[this.dialog.currentSheet]&&(loadedNow||this.opts.autoResize)){this.dialog.modalSheets[this.dialog.currentSheet].css('display','');if(loadedNow)this.dialog.modalSheets[this.dialog.currentSheet]=$('<div />',this.opts.D).html(this.dialog.modalSheets[this.dialog.currentSheet]);this.dialog.modalSheets[this.dialog.currentSheet].css(this.opts.wrapCss);if(data.data("noScroll"))this.dialog.modalSheets[this.dialog.currentSheet].css("overflow","hidden");var w=this.getVal(this.dialog.wrap.css('width'));var h=this.getVal(this.dialog.wrap.css('height'));if((ie6&&$.box_model)||ieQuirks){w-=this.getVal(this.dialog.wrap.css('borderLeftWidth'))+this.getVal(this.dialog.wrap.css('borderRightWidth'));h-=this.getVal(this.dialog.wrap.css('borderTopWidth'))+this.getVal(this.dialog.wrap.css('borderBottomWidth'))}this.dialog.modalSheets[this.dialog.currentSheet].css('width',w);this.dialog.modalSheets[this.dialog.currentSheet].css('height',h);var s=this.getInnerSize(this.dialog.wrap);if(typeof(this.dialog.dataFrame[this.dialog.currentSheet])!="undefined"&&s.h>0&&s.w>0)this.dialog.dataFrame[this.dialog.currentSheet].css('height',s.h).css('width',s.w);if(this.dialog.modalSheets[this.dialog.currentSheet].css('overflow')!="hidden")this.dialog.modalSheets[this.dialog.currentSheet].css('overflow','auto');this.dialog.modalSheets[this.dialog.currentSheet].addClass('liknomodal-data').css($.extend(true,{},this.opts.bodyCss,{display:'none'}));this.dialog.modalSheets[this.dialog.currentSheet].css({position:'absolute',left:0,top:0});this.dialog.modalSheets[this.dialog.currentSheet].appendTo(this.dialog.wrap)}if(this.dialog.data&&allowTransition){if(this.dialog.oldSheet>-1)this.dialog.modalSheets[this.dialog.oldSheet].css('z-index','0');this.dialog.modalSheets[this.dialog.currentSheet].css('z-index','1');if(this.dialog.oldSheet>-1)this.dialog.modalSheets[this.dialog.oldSheet].animate(this.opts.transition.closeWhat,this.opts.transition.closeHow.duration,this.opts.transition.closeHow.easing);this.dialog.modalSheets[this.dialog.currentSheet].animate(this.opts.transition.openWhat,this.opts.transition.openHow.duration,this.opts.transition.openHow.easing)}else{this.dialog.modalSheets[this.dialog.currentSheet].show()}this.dialog.data=this.dialog.modalSheets[this.dialog.currentSheet]},create:function(data){this.dialog.navigationBarCssClasses=$("<style>"+this.opts.navigationBar.cssClasses+"</style>",this.opts.D);$(this.opts.D).find("head").append(this.dialog.navigationBarCssClasses);w=this.getDimensions();if(ie6){this.dialog.iframe=$('<iframe src="javascript:false;"/>',this.opts.D).css($.extend(true,this.opts.iframeCss,{display:'none',opacity:0,position:'fixed',height:w[0],width:w[1],zIndex:this.opts.zIndex,top:0,left:0})).appendTo(this.opts.appendTo)}this.dialog.overlay=$('<div/>',this.opts.D).attr('id',this.opts.overlayId).addClass('liknomodal-overlay').css($.extend(true,this.opts.overlayCss,{display:'none',opacity:this.opts.opacity/100,height:isTouch?w[2]:w[0],width:w[1],position:isTouch?'absolute':'fixed',left:0,top:0,zIndex:this.opts.zIndex+1})).appendTo(this.opts.appendTo);this.dialog.container=$('<div/>',this.opts.D).attr('id',this.opts.containerId).addClass('liknomodal-container').css($.extend(true,this.opts.containerCss,{display:'none',position:isTouch?'absolute':'fixed',zIndex:this.opts.zIndex+2})).appendTo(this.opts.appendTo);if(this.opts.close.show){this.dialog.closeHTML=$("<div>"+this.opts.close.text+"</div>",this.opts.D).css($.extend(true,this.opts.close.textCss,{display:'none',position:'absolute',zIndex:this.opts.zIndex+3})).addClass(this.opts.close.closeClass).appendTo(this.dialog.container)}if(this.opts.header.show){this.dialog.header=$("<div>"+this.opts.header.text+"</div>",this.opts.D).css($.extend(true,this.opts.header.textCss,{position:'relative',zIndex:this.opts.zIndex+2})).appendTo(this.dialog.container);if(this.opts.header.id)this.dialog.header.attr('id',this.opts.header.id)}this.dialog.wrap=$('<div/>',this.opts.D).css(this.opts.wrapCss).css({display:'none'}).addClass('liknomodal-wrap').css({position:'relative'}).appendTo(this.dialog.container);if(this.opts.isMultiSheet&&this.opts.navigationBar.show){this.dialog.navigationBar=$('<div/>',this.opts.D).css({display:'none',overflow:'hidden'}).addClass(this.opts.modalClass+' navigationBarArea').appendTo(this.dialog.container)}if(this.opts.footer.show){this.dialog.footer=$("<div>"+this.opts.footer.text+"</div>",this.opts.D).css(this.opts.footer.textCss).appendTo(this.dialog.container);if(this.opts.footer.id)this.dialog.footer.attr('id',this.opts.footer.id)}this.dialog.currentSheet=this.opts.currentSheet;if(this.dialog.currentSheet>=this.dialog.modalSheets.length)this.dialog.currentSheet=this.dialog.modalSheets.length-1;if(this.dialog.currentSheet<0)this.dialog.currentSheet=0;if(this.opts.isMultiSheet&&this.opts.navigationBar.show){this.createNavigationBar();this.setNavigationBarSheet(this.dialog.currentSheet)}this.setContainerDimensions();this.setData(true);if(ie6||ieQuirks)this.fixIE();this.open()},bindEvents:function(){var self=this;if(self.opts.play.pauseByMouse){self.dialog.wrap.mouseover(function(){self.opts.play.isPaused=true}).mouseout(function(){self.opts.play.isPaused=false})}$('.'+self.opts.close.closeClass,this.opts.D).bind('click.'+self.defaults.modalClass,function(e){e.preventDefault();self.close()});if(self.opts.close.overlayClose){self.dialog.overlay.bind('click.'+self.defaults.modalClass,function(e){e.preventDefault();self.close()})}var keys={};$(document,this.opts.D).bind('keyup.'+self.defaults.modalClass,function(e){delete keys[e.which]});$(document,this.opts.D).bind('keydown.'+self.defaults.modalClass,function(e){if(self.opts.focus&&e.keyCode==9){self.watchTab(e)}else if(self.opts.keyboardNavigation){keys[e.which]=true;var key_ctrl=key_left=key_right=false;for(var i in keys){if(!keys.hasOwnProperty(i))continue;if(i==17)key_ctrl=true;if(i==37)key_left=true;if(i==39)key_right=true}if(e.keyCode==80){self.autoPlayToggle()}else if(key_left){if(key_ctrl)self.gotoFirst();else self.gotoPrev()}else if(key_right){if(key_ctrl)self.gotoLast();else self.gotoNext()}}else if(self.opts.close.escClose&&e.keyCode==27){e.preventDefault();self.close()}});if(isTouch)$(window,this.opts.D).bind('scroll.'+self.defaults.modalClass,function(){w=self.getDimensions();self.setPosition()});$(window,this.opts.D).bind('resize.'+self.defaults.modalClass,function(){w=self.getDimensions();if(self.opts.autoResize){self.setContainerDimensions();self.dialog.modalSheets[self.dialog.currentSheet].css(self.opts.wrapCss);self.dialog.modalSheets[self.dialog.currentSheet].css('border','none');var w1=self.dialog.wrap.width();var h1=self.dialog.wrap.height();if((ie6&&$.box_model)||ieQuirks){w1-=self.getVal(self.dialog.wrap.css('borderLeftWidth'))+self.getVal(self.dialog.wrap.css('borderRightWidth'));h1-=self.getVal(self.dialog.wrap.css('borderTopWidth'))+self.getVal(self.dialog.wrap.css('borderBottomWidth'))}self.dialog.modalSheets[self.dialog.currentSheet].css('width',w1);self.dialog.modalSheets[self.dialog.currentSheet].css('height',h1);var s=self.getInnerSize(self.dialog.wrap);if(typeof(self.dialog.dataFrame[self.dialog.currentSheet])!="undefined"&&s.h>0&&s.w>0)self.dialog.dataFrame[self.dialog.currentSheet].css('height',s.h).css('width',s.w);if(self.dialog.modalSheets[self.dialog.currentSheet].css('overflow')!="hidden")self.dialog.modalSheets[self.dialog.currentSheet].css('overflow','auto')}self.setPosition();if(ie6||ieQuirks){self.fixIE()}else{self.dialog.iframe&&self.dialog.iframe.css({height:w[0],width:w[1]});self.dialog.overlay.css({height:(isTouch?w[2]:w[0]),width:w[1]})}})},unbindEvents:function(){$('.'+this.opts.close.closeClass,this.opts.D).unbind('click.'+this.defaults.modalClass);$(document,this.opts.D).unbind('keydown.'+this.defaults.modalClass);$(window,this.opts.D).unbind('scroll.'+this.defaults.modalClass);$(window,this.opts.D).unbind('resize.'+this.defaults.modalClass);this.dialog.overlay.unbind('click.'+this.defaults.modalClass)},fixIE:function(){var self=this;$.each([this.dialog.iframe||null,this.dialog.overlay,this.dialog.container],function(i,el){if(el){var doc=(self.opts.breakOutOfFrames?'top.':'')+'document.';var bch=doc+'body.clientHeight',bcw=doc+'body.clientWidth',bsh=doc+'body.scrollHeight',bsl=doc+'body.scrollLeft',bst=doc+'body.scrollTop',bsw=doc+'body.scrollWidth',ch=doc+'documentElement.clientHeight',cw=doc+'documentElement.clientWidth',sl=doc+'documentElement.scrollLeft',st=doc+'documentElement.scrollTop',s=el[0].style;s.position='absolute';if(i<2){s.removeExpression('height');s.removeExpression('width');var ww=0,hh=0;if(!((ie6&&$.box_model)||ieQuirks)){ww=self.getVal($(self.opts.D).css('marginLeft'))+self.getVal($(self.opts.D).css('marginRight'));hh=self.getVal($(self.opts.D).css('marginTop'))+self.getVal($(self.opts.D).css('marginBottom'))}var hhh=0;if(document.body.clientHeight>hhh){hhh=document.body.clientHeight}if(document.body.scrollHeight>hhh){hhh=document.body.scrollHeight}if(document.documentElement.clientHeight>hhh){hhh=document.documentElement.clientHeight}s.height=hhh;s.setExpression('width',''+bsw+' > '+bcw+' ? ('+bsw+' + '+ww+') : ('+bcw+' + '+ww+') + "px"')}else{var te,le;var p=self.opts.position,pt=self.opts.positionType;if(pt==1){var top=p[0]?typeof p[0]=='number'?p[0].toString():p[0].replace(/px/,''):el.css('top').replace(/px/,'');te=top.indexOf('%')==-1?top+' + (t = '+st+' ? '+st+' : '+bst+') + "px"':parseInt(top.replace(/%/,''))+' * (('+ch+' || '+bch+') / 100) + (t = '+st+' ? '+st+' : '+bst+') + "px"';if(p[1]){var left=typeof p[1]=='number'?p[1].toString():p[1].replace(/px/,'');le=left.indexOf('%')==-1?left+' + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"':parseInt(left.replace(/%/,''))+' * (('+cw+' || '+bcw+') / 100) + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"'}}else{te='('+ch+' || '+bch+') / 2 - (this.offsetHeight / 2) + '+(typeof p[0]=='number'?p[0].toString():p[0].replace(/px/,''))+' + (t = '+st+' ? '+st+' : '+bst+') + "px"';le='('+cw+' || '+bcw+') / 2 - (this.offsetWidth / 2) + '+(typeof p[1]=='number'?p[1].toString():p[1].replace(/px/,''))+' + (t = '+sl+' ? '+sl+' : '+bsl+') + "px"'}s.removeExpression('top');s.removeExpression('left');s.setExpression('top',te);s.setExpression('left',le)}}})},focus:function(pos){var self=this,p=pos||'first';var input=$(':input:enabled:visible:'+p,self.dialog.container);input.length>0?input.focus():self.dialog.container.focus()},getDimensions:function(){var el=this.opts.breakOutOfFrames?$(top.window):$(window);var h=el.height();var w=el.width();var h1=Math.max($(document).height(),$(window).height(),document.documentElement.clientHeight);return[h,w,h1]},getVal:function(v){if(typeof v=="number")return v;if(v){switch(v){case'auto':return 0;case'medium':return 1;default:return parseInt(v.replace(/px/,''))}}else return 0},getInnerSize:function(x){var ie6=$.browser.msie&&parseInt($.browser.version)==6&&typeof window['XMLHttpRequest']!="object";var ieQuirks=$.browser.msie&&!$.boxModel;var tmpH=this.getVal(x.css('borderTopWidth'))+this.getVal(x.css('borderBottomWidth'))+this.getVal(x.css('paddingBottom'))+this.getVal(x.css('paddingTop'));var tmpW=this.getVal(x.css('borderLeftWidth'))+this.getVal(x.css('borderRightWidth'))+this.getVal(x.css('paddingLeft'))+this.getVal(x.css('paddingRight'));var size={};size.w=this.getVal(x.css('width'));size.h=this.getVal(x.css('height'));if((ie6&&$.box_model)||ieQuirks){size.w=size.w-tmpW;size.h=size.h-tmpH}if(size.w<0)size.w=0;if(size.h<0)size.h=0;return size},setContainerDimensions:function(){var hideme=this.dialog.container.css('display')=="none";this.dialog.container.css({'height':'','width':''});this.dialog.wrap.css({'height':'','width':''});this.dialog.container.css({'height':this.opts.containerCss.height,'width':this.opts.containerCss.width});this.dialog.wrap.css({'height':this.opts.wrapCss.height,'width':this.opts.wrapCss.width});var ch=this.getVal(this.dialog.container.height()),cw=this.getVal(this.dialog.container.width()),dh=0,dw=0,hh=0,fh=0,hw=0,fw=0,ph=0,wh=0,ww=0,cah=0,caw=0;if(ie6){w=this.getDimensions();var tmpH=this.dialog.container.css('height');var tmpW=this.dialog.container.css('width');if(tmpH.charAt(tmpH.length-1)=="%")ch=w[0]*this.getVal(tmpH)/100;if(tmpW.charAt(tmpW.length-1)=="%")cw=w[1]*this.getVal(tmpW)/100}if(hideme)this.dialog.container.show();if(this.opts.header.show){hh=this.getVal(this.dialog.header.css('height'))+this.getVal(this.dialog.header.css('borderTopWidth'))+this.getVal(this.dialog.header.css('borderBottomWidth'))+this.getVal(this.dialog.header.css('paddingBottom'))+this.getVal(this.dialog.header.css('paddingTop'));if((ie6&&$.box_model)||ieQuirks){this.dialog.header.css('height',hh)}hh+=this.getVal(this.dialog.header.css('marginBottom'))+this.getVal(this.dialog.header.css('marginTop'));if(!((ie6&&$.box_model)||ieQuirks))hw=this.getVal(this.dialog.header.css('borderLeftWidth'))+this.getVal(this.dialog.header.css('borderRightWidth'))+this.getVal(this.dialog.header.css('paddingLeft'))+this.getVal(this.dialog.header.css('paddingRight'))}if(this.opts.footer.show){fh=this.getVal(this.dialog.footer.css('height'))+this.getVal(this.dialog.footer.css('borderTopWidth'))+this.getVal(this.dialog.footer.css('borderBottomWidth'))+this.getVal(this.dialog.footer.css('paddingBottom'))+this.getVal(this.dialog.footer.css('paddingTop'));if((ie6&&$.box_model)||ieQuirks){this.dialog.footer.css('height',fh)}fh+=this.getVal(this.dialog.footer.css('marginBottom'))+this.getVal(this.dialog.footer.css('marginTop'));if(!((ie6&&$.box_model)||ieQuirks))fw=this.getVal(this.dialog.footer.css('borderLeftWidth'))+this.getVal(this.dialog.footer.css('borderRightWidth'))+this.getVal(this.dialog.footer.css('paddingLeft'))+this.getVal(this.dialog.footer.css('paddingRight'))}if(this.opts.isMultiSheet&&this.opts.navigationBar.show){if(hideme)this.dialog.navigationBar.show();ph=this.getVal(this.dialog.navigationBar.css('height'))+this.getVal(this.dialog.navigationBar.css('borderTopWidth'))+this.getVal(this.dialog.navigationBar.css('borderBottomWidth'))+this.getVal(this.dialog.navigationBar.css('paddingBottom'))+this.getVal(this.dialog.navigationBar.css('paddingTop'));if((ie6&&$.box_model)||ieQuirks){this.dialog.navigationBar.css('height',ph)}ph+=this.getVal(this.dialog.navigationBar.css('marginBottom'))+this.getVal(this.dialog.navigationBar.css('marginTop'));if(hideme)this.dialog.navigationBar.hide()}if(!((ie6&&$.box_model)||ieQuirks))wh=this.getVal(this.dialog.wrap.css('borderTopWidth'))+this.getVal(this.dialog.wrap.css('borderBottomWidth'))+this.getVal(this.dialog.wrap.css('paddingTop'))+this.getVal(this.dialog.wrap.css('paddingBottom'))+this.getVal(this.dialog.wrap.css('marginTop'))+this.getVal(this.dialog.wrap.css('marginBottom'));if(!((ie6&&$.box_model)||ieQuirks))ww=this.getVal(this.dialog.wrap.css('borderLeftWidth'))+this.getVal(this.dialog.wrap.css('borderRightWidth'))+this.getVal(this.dialog.wrap.css('paddingLeft'))+this.getVal(this.dialog.wrap.css('paddingRight'))+this.getVal(this.dialog.wrap.css('marginLeft'))+this.getVal(this.dialog.wrap.css('marginRight'));var mh=this.opts.maxHeight&&(this.opts.maxHeight<w[0]-15)?this.opts.maxHeight:(w[0]-15),mw=this.opts.maxWidth&&(this.opts.maxWidth<w[1]-15)?this.opts.maxWidth:(w[1]-15);mh=mh-(this.getVal(this.dialog.container.css("paddingTop"))+this.getVal(this.dialog.container.css("paddingBottom"))+this.getVal(this.dialog.container.css("borderTopWidth"))+this.getVal(this.dialog.container.css("borderBottomWidth")));mw=mw-((this.getVal(this.dialog.container.css("paddingLeft"))+this.getVal(this.dialog.container.css("paddingRight"))+this.getVal(this.dialog.container.css("borderLeftWidth"))+this.getVal(this.dialog.container.css("borderRightWidth"))));if((ie6&&$.box_model)||ieQuirks){mw=mw-(this.getVal(this.dialog.container.css("paddingLeft"))+this.getVal(this.dialog.container.css("paddingRight"))+this.getVal(this.dialog.container.css("borderLeftWidth"))+this.getVal(this.dialog.container.css("borderRightWidth")))}if(hideme)this.dialog.container.hide();if(!ch){if(!dh){ch=this.opts.minHeight}else{if(dh>mh){ch=mh}else if(dh<this.opts.minHeight){ch=this.opts.minHeight}else{ch=dh}}}else{ch=ch>mh?mh:ch}if(!cw){if(!dw){cw=this.opts.minWidth}else{if(dw>mw){cw=mw}else if(dw<this.opts.minWidth){cw=this.opts.minWidth}else{cw=dw}}}else{cw=cw>mw?mw:cw}if((ie6&&$.box_model)||ieQuirks){cah=this.getVal(this.dialog.container.css("paddingTop"));caw=this.getVal(this.dialog.container.css("paddingLeft"))}this.dialog.container.css({height:ch,width:cw});this.dialog.wrap.css({height:ch-(hh+fh+ph+wh),width:cw+caw-ww});if(this.opts.header.show)this.dialog.header.css({width:cw+caw-hw});if((ie6&&$.box_model)||ieQuirks){if(this.opts.isMultiSheet&&this.opts.navigationBar.show)this.dialog.navigationBar.css({width:cw+caw-hw})}if(this.opts.footer.show)this.dialog.footer.css({width:cw+caw-fw});this.setPosition()},setPosition:function(){var top,left,hc=this.getVal(this.dialog.container.css("height")),vc=this.getVal(this.dialog.container.css("width"));if(!((ie6&&$.box_model)||ieQuirks)){hc+=this.getVal(this.dialog.container.css("paddingTop"))+this.getVal(this.dialog.container.css("paddingBottom"))+this.getVal(this.dialog.container.css("borderTopWidth"))+this.getVal(this.dialog.container.css("borderBottomWidth"));vc+=this.getVal(this.dialog.container.css("paddingLeft"))+this.getVal(this.dialog.container.css("paddingRight"))+this.getVal(this.dialog.container.css("borderLeftWidth"))+this.getVal(this.dialog.container.css("borderRightWidth"))}hc=(w[0]/2)-(hc/2),vc=(w[1]/2)-(vc/2);if(isTouch)hc+=$(window).scrollTop();if(this.opts.positionType==1){top=this.opts.position[0];left=this.opts.position[1]}else{top=hc+this.opts.position[0];left=vc+this.opts.position[1]}this.dialog.container.css({left:left,top:top})},watchTab:function(e){var self=this;if($(e.target).parents('.liknomodal-container').length>0){self.inputs=$(':input:enabled:visible:first, :input:enabled:visible:last',self.dialog.data);if(!e.shiftKey&&e.target==self.inputs[self.inputs.length-1]||e.shiftKey&&e.target==self.inputs[0]||self.inputs.length==0){e.preventDefault();var pos=e.shiftKey?'last':'first';setTimeout(function(){self.focus(pos)},10)}}else{e.preventDefault();setTimeout(function(){self.focus()},10)}},open:function(){this.dialog.iframe&&this.dialog.iframe.show();if($.isFunction(this.opts.onOpen)){this.opts.onOpen.apply(this,[this.dialog])}else{if(typeof(this.opts.animation.window.openWhat.top)!="undefined"&&typeof(this.opts.animation.window.openWhat.left)!="undefined"){this.dialog.container.show();this.dialog.wrap.show();if(this.opts.header.show)this.dialog.header.show();if(this.opts.footer.show)this.dialog.footer.show();if(this.opts.isMultiSheet&&this.opts.navigationBar.show)this.dialog.navigationBar.show();if(this.opts.close.show)this.dialog.closeHTML.show();this.opts.animation.window.isGlide=true;var t=this.dialog.container.css('top');var l=this.dialog.container.css('left');if(this.opts.animation.window.openWhat.top==-1)this.dialog.container.css('top',-this.dialog.container.outerHeight());else if(this.opts.animation.window.openWhat.top==1)this.dialog.container.css('top',w[0]);if(this.opts.animation.window.openWhat.left==-1)this.dialog.container.css('left',-this.dialog.container.outerWidth());else if(this.opts.animation.window.openWhat.left==1)this.dialog.container.css('left',w[1]);if(this.opts.animation.window.closeWhat.top==-1)this.opts.animation.window.closeWhat.top=-this.dialog.container.outerHeight();else if(this.opts.animation.window.closeWhat.top==1)this.opts.animation.window.closeWhat.top=w[0];else this.opts.animation.window.closeWhat.top=t;if(this.opts.animation.window.closeWhat.left==-1)this.opts.animation.window.closeWhat.left=-this.dialog.container.outerWidth();else if(this.opts.animation.window.closeWhat.left==1)this.opts.animation.window.closeWhat.left=w[1];else this.opts.animation.window.closeWhat.left=l;this.opts.animation.window.openWhat.top=t;this.opts.animation.window.openWhat.left=l;if(ie6||ieQuirks){this.opts.animation.window.openWhat.top=this.getVal(this.opts.animation.window.openWhat.top)+(document.body.scrollTop>document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop)+"px";this.opts.animation.window.openWhat.left=this.getVal(this.opts.animation.window.openWhat.left)+(document.body.scrollLeft>document.documentElement.scrollLeft?document.body.scrollLeft:document.documentElement.scrollLeft)+"px";this.opts.animation.window.closeWhat.top=this.getVal(this.opts.animation.window.closeWhat.top)+(document.body.scrollTop>document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop)+"px";this.opts.animation.window.closeWhat.left=this.getVal(this.opts.animation.window.closeWhat.left)+(document.body.scrollLeft>document.documentElement.scrollLeft?document.body.scrollLeft:document.documentElement.scrollLeft)+"px"}}this.dialog.overlay.animate(this.opts.animation.overlay.openWhat,this.opts.animation.overlay.openHow.duration,this.opts.animation.overlay.openHow.easing);this.dialog.container.animate(this.opts.animation.window.openWhat,this.opts.animation.window.openHow.duration,this.opts.animation.window.openHow.easing);if(!this.opts.animation.window.isGlide){if(this.opts.close.show)this.dialog.closeHTML.animate(this.opts.animation.window.openWhat,this.opts.animation.window.openHow.duration,this.opts.animation.window.openHow.easing);if(this.opts.header.show)this.dialog.header.animate(this.opts.animation.window.openWhat,this.opts.animation.window.openHow.duration,this.opts.animation.window.openHow.easing);this.dialog.wrap.animate(this.opts.animation.window.openWhat,this.opts.animation.window.openHow.duration,this.opts.animation.window.openHow.easing);if(this.opts.isMultiSheet&&this.opts.navigationBar.show)this.dialog.navigationBar.animate(this.opts.animation.window.openWhat,this.opts.animation.window.openHow.duration,this.opts.animation.window.openHow.easing);if(this.opts.footer.show)this.dialog.footer.animate(this.opts.animation.window.openWhat,this.opts.animation.window.openHow.duration,this.opts.animation.window.openHow.easing)}}var self=this;this.focus();this.bindEvents()},close:function(doNext){var self=this;if(!self.dialog.data){return false}if(self.opts.play.timer)clearInterval(self.opts.play.timer);self.unbindEvents();if($.isFunction(self.opts.onClose)&&!self.occb){self.occb=true;self.opts.onClose.apply(self,[self.dialog])}else{var maxDelay=0,tmpDelay;tmpDelay=getDelay(self.opts.animation.overlay.closeHow);if(maxDelay<tmpDelay)maxDelay=tmpDelay;tmpDelay=getDelay(self.opts.animation.window.closeHow);if(maxDelay<tmpDelay)maxDelay=tmpDelay;self.dialog.overlay.animate(self.opts.animation.overlay.closeWhat,self.opts.animation.overlay.closeHow.duration,self.opts.animation.overlay.closeHow.easing,function(){if(self.dialog.parentNode.length>0){if(self.opts.persist){var i=0;self.dialog.data.each(function(){this.hide().insertAfter(self.dialog.parentNode[i++])})}else{self.dialog.data.hide().remove();var i=0;self.dialog.orig.each(function(){$(this).insertAfter(self.dialog.parentNode[i++])})}for(var i=0;i<self.dialog.parentNode.length;i++)self.dialog.parentNode[i].remove()}else{self.dialog.data.hide().remove()}self.dialog.container.hide().remove();self.dialog.overlay.hide().remove();self.dialog.iframe&&self.dialog.iframe.hide().remove();self.dialog.navigationBarCssClasses.remove();self.dialog={};if(typeof doNext=="function")doNext();if(typeof(self.opts.afterClose)=="function")self.opts.afterClose()});if(self.dialog.container){self.dialog.container.animate(self.opts.animation.window.closeWhat,self.opts.animation.window.closeHow.duration,self.opts.animation.window.closeHow.easing);if(!this.opts.animation.window.isGlide){if(self.opts.close.show)self.dialog.closeHTML.animate(self.opts.animation.window.closeWhat,self.opts.animation.window.closeHow.duration,self.opts.animation.window.closeHow.easing);if(self.opts.header.show)self.dialog.header.animate(self.opts.animation.window.closeWhat,self.opts.animation.window.closeHow.duration,self.opts.animation.window.closeHow.easing);self.dialog.wrap.animate(self.opts.animation.window.closeWhat,self.opts.animation.window.closeHow.duration,self.opts.animation.window.closeHow.easing);if(self.opts.isMultiSheet&&this.opts.navigationBar.show)self.dialog.navigationBar.animate(self.opts.animation.window.closeWhat,self.opts.animation.window.closeHow.duration,self.opts.animation.window.closeHow.easing);if(self.opts.footer.show)self.dialog.footer.animate(self.opts.animation.window.closeWhat,self.opts.animation.window.closeHow.duration,self.opts.animation.window.closeHow.easing)}}}}};$.liknoModal.makePageLinks=function(modalName,modalOpts){lQuery("a[target="+modalName+"_single],a[target="+modalName+"_multi_divs],area[target="+modalName+"_single],area[target="+modalName+"_multi_divs]").each(function(){var is_multi=$(this).attr("target")==modalName+"_multi_divs";if($(this).attr("href").substring(0,1)=="#"){$(this).click(function(){lQuery.liknoModal.impl.init($((is_multi?".":"#")+$(this).attr("href").substring(1)),lQuery.extend(true,{},modalOpts,{isMultiSheet:is_multi}));return false})}else{$(this).click(function(){if(is_multi){var data=lQuery("<div>loading...</div>");data.load($(this).attr("href"),function(){lQuery.liknoModal.impl.init($(data).html(),lQuery.extend(true,{},modalOpts,{isMultiSheet:true}))})}else{lQuery.liknoModal.impl.init("<div externalUrl='"+$(this).attr("href")+"'> </div>",lQuery.extend(true,{},modalOpts,{isMultiSheet:false}))}return false})}});var groupData="";lQuery("a[target="+modalName+"_multi_links],area[target="+modalName+"_multi_links]").each(function(){if($(this).attr("href").substring(0,1)=="#"){groupData+="<div>"+$($(this).attr("href")).html()+"</div>"}else{groupData+="<div externalUrl='"+$(this).attr("href")+"'> </div>"}});var group_count=0;lQuery("a[target="+modalName+"_multi_links],area[target="+modalName+"_multi_links]").each(function(){$(this).data('sheet',group_count++);$(this).click(function(){lQuery.liknoModal.impl.init(groupData,lQuery.extend(true,{},modalOpts,{isMultiSheet:true,currentSheet:$(this).data('sheet')}));return false})})}})(lQuery);function getDelay(x){if(typeof x=="number")return x;else if(typeof x=="string")return parseInt(x);else if(typeof x=="object"){if(typeof x.duration=="number")return x.duration;else if(typeof x.duration=="string")return parseInt(x.duration);else return 0}else return 0};var lwmw_imageCache=[];var lwmw_imageCacheCounter=0;function lwmw_get_background_url(x){if(typeof(x)!="string"||!x||x=='')return'';if(x.indexOf('url(')>-1){x=x.replace(/\'/gi,"").replace(/\"/gi,"").replace(/url/gi,"").replace(/\)/gi,"").replace(/\(/gi,"")}return x}function lwmw_preloadImages(opts){if(typeof opts==="object"){if(typeof opts.close==="object")if(typeof opts.close.closeImage==="string")if(opts.close.closeImage!=''){lwmw_imageCache[lwmw_imageCacheCounter]=new Image(1,1);lwmw_imageCache[lwmw_imageCacheCounter++].src=opts.close.closeImage}if(opts.isMultiSheet){if(typeof opts.navigationBar==="object")if(typeof opts.navigationBar.images==="object"){lQuery.each(["butFirst","butFirstOver","butPrev","butPrevOver","butPlay","butPlayOver","butPause","butPauseOver","butNext","butNextOver","butLast","butLastOver"],function(i,el){eval("if (typeof opts.navigationBar.images."+el+" === 'string') if (typeof opts.navigationBar.images."+el+" != '') { lwmw_imageCache[lwmw_imageCacheCounter] = new Image(1,1); lwmw_imageCache[lwmw_imageCacheCounter++].src = opts.navigationBar.images."+el+"; }")})}}lQuery.each(["containerCss","wrapCss","bodyCss","headerCss","footerCss"],function(i,el){eval("if (typeof opts."+el+" === 'object') if (typeof opts."+el+".backgroundImage === 'string') if (typeof opts."+el+".backgroundImage != '') { lwmw_imageCache[lwmw_imageCacheCounter] = new Image(1,1); lwmw_imageCache[lwmw_imageCacheCounter++].src = lwmw_get_background_url(opts."+el+".backgroundImage); }")})}}function lwmw_checkVarUrl(p,m){var p1=p.replace(/-/g,"_"),loadme=false,loadsheet=0;if(eval('typeof ('+p1+'_'+m+'_open)')=="number"||eval('typeof ('+m+'_open)')=="number"){loadme=true;if(eval('typeof ('+p1+'_'+m+'_open)')=="number")loadsheet=eval(p1+'_'+m+'_open')-1;else loadsheet=eval(m+'_open')-1}var tmp=document.location.href;if(tmp.indexOf("#")>-1){tmp=tmp.substr(tmp.indexOf("#")+1);var t_arr=tmp.split("#");for(var i=0;i<t_arr.length;i++){if(t_arr[i].indexOf(p1+'_'+m+'_')==0||t_arr[i].indexOf(p+'_'+m+'_')==0||t_arr[i].indexOf(m+'_')==0){loadme=true;var t1;if(t_arr[i].indexOf(p1+'_'+m+'_')==0)t1=p1+'_'+m+'_';else if(t_arr[i].indexOf(p+'_'+m+'_')==0)t1=p+'_'+m+'_';else if(t_arr[i].indexOf(m+'_')==0)t1=m+'_';t1=t_arr[i].substr(t1.length);if(!isNaN(Number(t1)))loadsheet=t1-1}}}if(loadme)lQuery(function(){eval(p1+'.'+m+'({currentSheet:'+loadsheet+'})')})}if(typeof nRTC!="function")nRTC=function(str){str=lQuery.trim(str);var def=str.split(';');var retArr={};for(i=0;i<def.length;i++){var side=def[i].split(':'),name='',val='';if(def[i]){side[0]=side[0].toLowerCase();if(side.length>2){for(k=2;k<side.length;k++){side[1]+=":"+side[k]}}for(j=0;j<side.length;j++){if(j==0){str=side[j].split('-');var outstr=str[0];for(k=1;k<str.length;k++){outstr=outstr+str[k].charAt(0).toUpperCase()+str[k].substring(1)}name=lQuery.trim(outstr)}else{if(j==1){val=lQuery.trim(side[j])}}}retArr[name]=val}}return retArr};var $l7=$l3(),$l5=$l3(),$l6=$l3(),$l8=$l3();var headID=document.getElementsByTagName("head")[0];function $l0(){$l7=$l3(),$l5=$l3(),$l6=$l3(),$l8=$l3()}function $l1(s){s2=s.split("");s1="";for(var i=0;i<s.length;i++){s1+="%"+s2[i]+s2[i+1];i++}return unescape(s1)};function $l2(){$l5="";$l8[0]="";for(var i=2;i<$l7.length;i++){$l5+="."+$l1($l7[i]);if($l1($l7[i])==$l1("7C")){$l8[$l8.length]="";$l8[$l8.length-2]=$l8[$l8.length-2].substring(1)}else{$l8[$l8.length-1]+="."+$l1($l7[i])}}$l8[$l8.length-1]=$l8[$l8.length-1].substring(1);$l5=$l5.substring(1);$l7[0]=(lwmwmpi.substring(0,lwmwmpi.search($l1($l7[1]))));$l7[$l7.length]=lwmwmpi.substring(lwmwmpi.search($l1($l7[1]))+3);if($l7[$l7.length-1].substring(0,3)==$l1("777777"))if(!isNaN($l7[$l7.length-1].substring(3,4))&&$l7[$l7.length-1].substring(4,5)==$l1("2E"))$l7[$l7.length-1]=$l7[$l7.length-1].substring(5);if($l7[$l7.length-1].substring(0,4)==$l1("7777772E"))$l7[$l7.length-1]=$l7[$l7.length-1].substring(4);$l7[$l7.length-1]=$l7[$l7.length-1].substring(0,$l7[$l7.length-1].search("/"));if($l7[$l7.length-1].search(":")>-1)$l7[$l7.length-1]=$l7[$l7.length-1].substring(0,$l7[$l7.length-1].search(":"))+"/";else $l7[$l7.length-1]+="/"};function $l3(){return new Array()};function $l4($s){for(d=0;d<$l8.length;d++){if($s==$l8[d]||$l8[d]==$l1($l6[2])){return true}else{var dD=$s.length-$l8[d].length;if(dD>0)if($s.substring(dD)==$l8[d]&&$s.substring(0,dD-1).search(/\./)==-1)return true}}$s=$s.substring(0,$s.length-1);if($s.length){$s=$s.replace(/\./g,"");return!isNaN($s)}return false};
if(typeof lQuery!="undefined"){if(typeof lQuery.easing.easeInQuad=="undefined"){lQuery.extend(lQuery.easing,{easeInQuad:function(g,h,f,j,i){return j*(h/=i)*h+f},easeOutQuad:function(g,h,f,j,i){return-j*(h/=i)*(h-2)+f},easeInOutQuad:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h+f}return-j/2*((--h)*(h-2)-1)+f},easeInCubic:function(g,h,f,j,i){return j*(h/=i)*h*h+f},easeOutCubic:function(g,h,f,j,i){return j*((h=h/i-1)*h*h+1)+f},easeInOutCubic:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h+f}return j/2*((h-=2)*h*h+2)+f},easeInQuart:function(g,h,f,j,i){return j*(h/=i)*h*h*h+f},easeOutQuart:function(g,h,f,j,i){return-j*((h=h/i-1)*h*h*h-1)+f},easeInOutQuart:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h+f}return-j/2*((h-=2)*h*h*h-2)+f},easeInQuint:function(g,h,f,j,i){return j*(h/=i)*h*h*h*h+f},easeOutQuint:function(g,h,f,j,i){return j*((h=h/i-1)*h*h*h*h+1)+f},easeInOutQuint:function(g,h,f,j,i){if((h/=i/2)<1){return j/2*h*h*h*h*h+f}return j/2*((h-=2)*h*h*h*h+2)+f},easeInSine:function(g,h,f,j,i){return-j*Math.cos(h/i*(Math.PI/2))+j+f},easeOutSine:function(g,h,f,j,i){return j*Math.sin(h/i*(Math.PI/2))+f},easeInOutSine:function(g,h,f,j,i){return-j/2*(Math.cos(Math.PI*h/i)-1)+f},easeInExpo:function(g,h,f,j,i){return(h==0)?f:j*Math.pow(2,10*(h/i-1))+f},easeOutExpo:function(g,h,f,j,i){return(h==i)?f+j:j*(-Math.pow(2,-10*h/i)+1)+f},easeInOutExpo:function(g,h,f,j,i){if(h==0){return f}if(h==i){return f+j}if((h/=i/2)<1){return j/2*Math.pow(2,10*(h-1))+f}return j/2*(-Math.pow(2,-10*--h)+2)+f},easeInCirc:function(g,h,f,j,i){return-j*(Math.sqrt(1-(h/=i)*h)-1)+f},easeOutCirc:function(g,h,f,j,i){return j*Math.sqrt(1-(h=h/i-1)*h)+f},easeInOutCirc:function(g,h,f,j,i){if((h/=i/2)<1){return-j/2*(Math.sqrt(1-h*h)-1)+f}return j/2*(Math.sqrt(1-(h-=2)*h)+1)+f},easeInElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return-(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f},easeOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l)==1){return f+m}if(!k){k=l*0.3}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}return h*Math.pow(2,-10*i)*Math.sin((i*l-j)*(2*Math.PI)/k)+m+f},easeInOutElastic:function(g,i,f,m,l){var j=1.70158;var k=0;var h=m;if(i==0){return f}if((i/=l/2)==2){return f+m}if(!k){k=l*(0.3*1.5)}if(h<Math.abs(m)){h=m;var j=k/4}else{var j=k/(2*Math.PI)*Math.asin(m/h)}if(i<1){return-0.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k))+f}return h*Math.pow(2,-10*(i-=1))*Math.sin((i*l-j)*(2*Math.PI)/k)*0.5+m+f},easeInBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*(h/=j)*h*((i+1)*h-i)+f},easeOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}return k*((h=h/j-1)*h*((i+1)*h+i)+1)+f},easeInOutBack:function(g,h,f,k,j,i){if(i==undefined){i=1.70158}if((h/=j/2)<1){return k/2*(h*h*(((i*=(1.525))+1)*h-i))+f}return k/2*((h-=2)*h*(((i*=(1.525))+1)*h+i)+2)+f},easeInBounce:function(g,h,f,j,i){return j-lQuery.easing.easeOutBounce(g,i-h,0,j,i)+f},easeOutBounce:function(g,h,f,j,i){if((h/=i)<(1/2.75)){return j*(7.5625*h*h)+f}else{if(h<(2/2.75)){return j*(7.5625*(h-=(1.5/2.75))*h+0.75)+f}else{if(h<(2.5/2.75)){return j*(7.5625*(h-=(2.25/2.75))*h+0.9375)+f}else{return j*(7.5625*(h-=(2.625/2.75))*h+0.984375)+f}}}},easeInOutBounce:function(g,h,f,j,i){if(h<i/2){return lQuery.easing.easeInBounce(g,h*2,0,j,i)*0.5+f}return lQuery.easing.easeOutBounce(g,h*2-i,0,j,i)*0.5+j*0.5+f}})}if(typeof lQuery.speed=="undefined"){lQuery.speed=function(G,H,F){var E=typeof G==="object"?lQuery.extend({},G):{complete:F||!F&&H||lQuery.isFunction(G)&&G,duration:G,easing:F&&H||H&&!lQuery.isFunction(H)&&H};E.duration=lQuery.fx.off?0:typeof E.duration==="number"?E.duration:lQuery.fx.speeds[E.duration]||lQuery.fx.speeds._default;E.old=E.complete;E.complete=function(){if(E.queue!==false){lQuery(this).dequeue()}if(lQuery.isFunction(E.old)){E.old.call(this)}};return E}}if(typeof lQuery.cookie=="undefined"){lQuery.cookie=function(name,value,options){if(typeof value!='undefined'){options=options||{};if(value===null){value='';options.expires=-1}var expires='';if(options.expires&&(typeof options.expires=='number'||options.expires.toUTCString)){var date;if(typeof options.expires=='number'){date=new Date();date.setTime(date.getTime()+(options.expires*24*60*60*1000))}else{date=options.expires}expires='; expires='+date.toUTCString()}var path=options.path?'; path='+(options.path):'';var domain=options.domain?'; domain='+(options.domain):'';var secure=options.secure?'; secure':'';document.cookie=[name,'=',encodeURIComponent(value),expires,path,domain,secure].join('')}else{var cookieValue=null;if(document.cookie&&document.cookie!=''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=lQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==(name+'=')){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}}return cookieValue}}}}
/*232.3*/